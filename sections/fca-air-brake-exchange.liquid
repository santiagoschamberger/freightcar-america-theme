{%- style -%}
  @font-face {
    font-family: 'Outage';
    src: url('{{ 'Outage.ttf' | asset_url }}') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'Gotham';
    src: url('{{ 'Gotham-Book.otf' | asset_url }}') format('opentype');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'Gotham';
    src: url('{{ 'Gotham-Medium.otf' | asset_url }}') format('opentype');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'Gotham';
    src: url('{{ 'Gotham-Bold.otf' | asset_url }}') format('opentype');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
  }

  .fca-air-brake-exchange {
    background: #ffffff;
    padding: 170px 0;
    position: relative;
  }

  .fca-air-brake-exchange__container {
    max-width: 1440px;
    margin: 0 auto;
    padding: 0 132px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 104px;
  }

  .fca-air-brake-exchange__title {
    font-family: 'Outage', sans-serif;
    font-weight: normal;
    font-size: 60px;
    line-height: 72px;
    text-align: center;
    color: #122f5b;
    margin: 0;
    max-width: 1072px;
  }

  .fca-air-brake-exchange__title .red-highlight {
    color: #d31244;
  }

  .fca-air-brake-exchange__steps {
    display: flex;
    flex-direction: row;
    gap: 40px;
    width: 100%;
    max-width: 1176px;
  }

  .fca-air-brake-exchange__step {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 25px;
    width: 264px;
  }

  .fca-air-brake-exchange__step-header {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 111px;
  }

  .fca-air-brake-exchange__step-bg {
    width: 264px;
    height: 111px;
    background: linear-gradient(180deg, #e8e8e8 0%, #d0d0d0 100%);
    border-radius: 8px;
    position: absolute;
    top: 0;
    left: 0;
  }

  .fca-air-brake-exchange__step-number {
    font-family: 'Outage', sans-serif;
    font-weight: normal;
    font-size: 40px;
    line-height: 40px;
    color: #00205b;
    position: relative;
    z-index: 2;
    margin-left: 30px;
    margin-top: -25px;
  }

  .fca-air-brake-exchange__step-content {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .fca-air-brake-exchange__step-title {
    font-family: 'Gotham', sans-serif;
    font-weight: 700;
    font-size: 24px;
    line-height: 26px;
    color: #d31244;
    margin: 0;
  }

  .fca-air-brake-exchange__step-description {
    font-family: 'Gotham', sans-serif;
    font-weight: 400;
    font-size: 20px;
    line-height: 26px;
    color: #00205b;
    margin: 0;
  }

  @media screen and (max-width: 1200px) {
    .fca-air-brake-exchange__container {
      padding: 0 60px;
    }

    .fca-air-brake-exchange__steps {
      gap: 30px;
    }
  }

  @media screen and (max-width: 768px) {
    .fca-air-brake-exchange {
      padding: 80px 0;
    }

    .fca-air-brake-exchange__container {
      padding: 0 20px;
      gap: 60px;
    }

    .fca-air-brake-exchange__title {
      font-size: 32px;
      line-height: 38px;
    }

    .fca-air-brake-exchange__steps {
      flex-direction: column;
      gap: 40px;
      align-items: center;
    }

    .fca-air-brake-exchange__step {
      width: 100%;
      max-width: 320px;
    }

    .fca-air-brake-exchange__step-header {
      width: 100%;
    }

    .fca-air-brake-exchange__step-bg {
      width: 100%;
    }

    .fca-air-brake-exchange__step-number {
      font-size: 32px;
    }

    .fca-air-brake-exchange__step-title {
      font-size: 20px;
    }

    .fca-air-brake-exchange__step-description {
      font-size: 18px;
    }
  }

  @media screen and (max-width: 480px) {
    .fca-air-brake-exchange {
      padding: 60px 0;
    }

    .fca-air-brake-exchange__container {
      padding: 0 16px;
    }

    .fca-air-brake-exchange__title {
      font-size: 28px;
      line-height: 32px;
    }

    .fca-air-brake-exchange__step-title {
      font-size: 18px;
    }

    .fca-air-brake-exchange__step-description {
      font-size: 16px;
    }
  }
{%- endstyle -%}

<section class="fca-air-brake-exchange">
  <div class="fca-air-brake-exchange__container">
    {%- if section.settings.title != blank -%}
      <h2 class="fca-air-brake-exchange__title">
        {%- if section.settings.red_highlight_text != blank -%}
          {%- assign red_replacement = '<span class="red-highlight">' | append: section.settings.red_highlight_text | append: '</span>' -%}
          {%- assign highlighted_title = section.settings.title | replace: section.settings.red_highlight_text, red_replacement -%}
          {{ highlighted_title }}
        {%- else -%}
          {{ section.settings.title }}
        {%- endif -%}
      </h2>
    {%- endif -%}
    
    {%- if section.blocks.size > 0 -%}
      <div class="fca-air-brake-exchange__steps">
        {%- for block in section.blocks -%}
          <div class="fca-air-brake-exchange__step" {{ block.shopify_attributes }}>
            <div class="fca-air-brake-exchange__step-header">
              <div class="fca-air-brake-exchange__step-bg"></div>
              <div class="fca-air-brake-exchange__step-number">
                Step {{ forloop.index }}
              </div>
            </div>
            <div class="fca-air-brake-exchange__step-content">
              {%- if block.settings.title != blank -%}
                <h3 class="fca-air-brake-exchange__step-title">{{ block.settings.title }}</h3>
              {%- endif -%}
              {%- if block.settings.description != blank -%}
                <p class="fca-air-brake-exchange__step-description">{{ block.settings.description }}</p>
              {%- endif -%}
            </div>
          </div>
        {%- endfor -%}
      </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "Air Brake Exchange",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "HOW OUR AIR BRAKE VALVE UNIT EXCHANGE PROGRAM WORKS"
    },
    {
      "type": "text",
      "id": "red_highlight_text",
      "label": "Red Highlight Text",
      "default": "EXCHANGE PROGRAM WORKS"
    }
  ],
  "blocks": [
    {
      "type": "step",
      "name": "Step",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Step Title"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Step description."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Air Brake Exchange"
    }
  ]
}
{% endschema %} 