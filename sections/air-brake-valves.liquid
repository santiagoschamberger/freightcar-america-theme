{{ 'section-air-brake-valves.css' | asset_url | stylesheet_tag }}

<div class="air-brake-valves-section"{% if section.settings.background_image %} style="background-image: url('{{ section.settings.background_image | image_url }}')"{% endif %}>
  <div class="air-brake-valves-container">
    <div class="air-brake-valves-content">
      
      {% if section.settings.heading_part_1 != blank %}
        <h2 class="air-brake-valves-heading">
          {{ section.settings.heading_part_1 }}
          <span class="highlight">{{ section.settings.heading_part_2 }}</span>
        </h2>
      {% endif %}

      <div class="valve-types-grid">
        <div class="valve-column">
          {% for block in section.blocks %}
            {% if block.settings.column == 'left' %}
              <div class="valve-item" {{ block.shopify_attributes }}>
                <div class="valve-icon">
                  <svg width="20" height="16" viewBox="0 0 20 16" fill="none">
                    <path d="M2.56 10.88H17.28V16H2.56V10.88Z" fill="#5784CC"/>
                    <path d="M0 0H19.84V5.12H0V0Z" fill="#D31244"/>
                    <path d="M1.28 5.12H18.56V10.88H1.28V5.12Z" fill="white"/>
                  </svg>
                </div>
                <div class="valve-name">
                  {{ block.settings.valve_name }}
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
        
        <div class="valve-column">
          {% for block in section.blocks %}
            {% if block.settings.column == 'right' %}
              <div class="valve-item" {{ block.shopify_attributes }}>
                <div class="valve-icon">
                  <svg width="20" height="16" viewBox="0 0 20 16" fill="none">
                    <path d="M2.56 10.88H17.28V16H2.56V10.88Z" fill="#5784CC"/>
                    <path d="M0 0H19.84V5.12H0V0Z" fill="#D31244"/>
                    <path d="M1.28 5.12H18.56V10.88H1.28V5.12Z" fill="white"/>
                  </svg>
                </div>
                <div class="valve-name">
                  {{ block.settings.valve_name }}
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>

      {% if section.settings.footer_text != blank %}
        <div class="air-brake-valves-footer">
          <p>{{ section.settings.footer_text }}</p>
        </div>
      {% endif %}

    </div>
  </div>
</div>

{% schema %}
{
  "name": "Air Brake Valves",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "text",
      "id": "heading_part_1",
      "label": "Heading (first part)",
      "default": "Here are the air brake valves we currently accept"
    },
    {
      "type": "text",
      "id": "heading_part_2",
      "label": "Heading (highlighted part)",
      "default": "for replacement:"
    },
    {
      "type": "header",
      "content": "Footer"
    },
    {
      "type": "textarea",
      "id": "footer_text",
      "label": "Footer text",
      "default": "We also offer air brake valves for outright purchase. Please reach out to parts@freightcar.net."
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image",
      "info": "Recommended: 1920x800px"
    }
  ],
  "blocks": [
    {
      "type": "valve_type",
      "name": "Valve Type",
      "settings": [
        {
          "type": "text",
          "id": "valve_name",
          "label": "Valve name",
          "default": "ADBX Service"
        },
        {
          "type": "select",
          "id": "column",
          "label": "Column",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "left"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Air Brake Valves",
      "blocks": [
        {
          "type": "valve_type",
          "settings": {
            "valve_name": "ADBX Service",
            "column": "left"
          }
        },
        {
          "type": "valve_type",
          "settings": {
            "valve_name": "ADBX Emergency",
            "column": "left"
          }
        },
        {
          "type": "valve_type",
          "settings": {
            "valve_name": "ADBX-L Emergency",
            "column": "left"
          }
        },
        {
          "type": "valve_type",
          "settings": {
            "valve_name": "DB10 Service",
            "column": "right"
          }
        },
        {
          "type": "valve_type",
          "settings": {
            "valve_name": "DB20 Emergency",
            "column": "right"
          }
        },
        {
          "type": "valve_type",
          "settings": {
            "valve_name": "DB20L",
            "column": "right"
          }
        }
      ]
    }
  ]
}
{% endschema %} 